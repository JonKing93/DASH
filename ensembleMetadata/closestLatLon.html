<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.18.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>ensembleMetadata.closestLatLon &mdash; DASH 4.0.0 documentation</title>
      <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
      <link rel="stylesheet" href="../_static/css/matlab-io.css" type="text/css" />
      <link rel="stylesheet" href="../_static/css/accordion.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/_sphinx_javascript_frameworks_compat.js"></script>
        <script src="../_static/doctools.js"></script>
        <script src="../_static/sphinx_highlight.js"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="ensembleMetadata.latlon" href="latlon.html" />
    <link rel="prev" title="ensembleMetadata.label" href="label.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="../index.html" class="icon icon-home"> DASH
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Resources</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../welcome.html">Welcome!</a></li>
<li class="toctree-l1"><a class="reference internal" href="../installation.html">Install DASH</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Tutorial/welcome.html">Tutorial</a></li>
<li class="toctree-l1"><a class="reference internal" href="../showcase.html">Showcase</a></li>
<li class="toctree-l1"><a class="reference internal" href="../contact.html">Contact</a></li>
<li class="toctree-l1"><a class="reference internal" href="../license.html">License</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Reference</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../gridMetadata.html">gridMetadata</a></li>
<li class="toctree-l1"><a class="reference internal" href="../gridfile.html">gridfile</a></li>
<li class="toctree-l1"><a class="reference internal" href="../stateVector.html">stateVector</a></li>
<li class="toctree-l1"><a class="reference internal" href="../ensemble.html">ensemble</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../ensembleMetadata.html">ensembleMetadata</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../ensembleMetadata.html#description">Description</a></li>
<li class="toctree-l2"><a class="reference internal" href="../ensembleMetadata.html#key-methods">Key Methods</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="../ensembleMetadata.html#all-user-methods">All User Methods</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="../ensembleMetadata.html#create">Create</a></li>
<li class="toctree-l3 current"><a class="reference internal" href="../ensembleMetadata.html#coordinates">Coordinates</a><ul class="current">
<li class="toctree-l4 current"><a class="current reference internal" href="#">closestLatLon</a><ul>
<li class="toctree-l5"><a class="reference internal" href="#syntax">Syntax</a></li>
<li class="toctree-l5"><a class="reference internal" href="#description">Description</a></li>
<li class="toctree-l5"><a class="reference internal" href="#input-arguments">Input Arguments</a><ul>
<li class="toctree-l6"><a class="reference internal" href="#variablename">variableName</a></li>
<li class="toctree-l6"><a class="reference internal" href="#v">v</a></li>
<li class="toctree-l6"><a class="reference internal" href="#coordinates">coordinates</a></li>
<li class="toctree-l6"><a class="reference internal" href="#columns">columns</a></li>
<li class="toctree-l6"><a class="reference internal" href="#variablerows">variableRows</a></li>
</ul>
</li>
<li class="toctree-l5"><a class="reference internal" href="#output-arguments">Output Arguments</a><ul>
<li class="toctree-l6"><a class="reference internal" href="#rows">rows</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="latlon.html">latlon</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../ensembleMetadata.html#regrid">Regrid</a></li>
<li class="toctree-l3"><a class="reference internal" href="../ensembleMetadata.html#metadata">Metadata</a></li>
<li class="toctree-l3"><a class="reference internal" href="../ensembleMetadata.html#locate-variables">Locate Variables</a></li>
<li class="toctree-l3"><a class="reference internal" href="../ensembleMetadata.html#variable-information">Variable Information</a></li>
<li class="toctree-l3"><a class="reference internal" href="../ensembleMetadata.html#manipulate-varaibles">Manipulate Varaibles</a></li>
<li class="toctree-l3"><a class="reference internal" href="../ensembleMetadata.html#manipulate-members">Manipulate Members</a></li>
<li class="toctree-l3"><a class="reference internal" href="../ensembleMetadata.html#console-display">Console Display</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../ensembleMetadata.html#utility-methods">Utility Methods</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../PSM.html">PSM</a></li>
<li class="toctree-l1"><a class="reference internal" href="../kalmanFilter.html">kalmanFilter</a></li>
<li class="toctree-l1"><a class="reference internal" href="../particleFilter.html">particleFilter</a></li>
<li class="toctree-l1"><a class="reference internal" href="../optimalSensor.html">optimalSensor</a></li>
<li class="toctree-l1"><a class="reference internal" href="../dash.html">dash</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">DASH</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home"></a> &raquo;</li>
          <li><a href="../ensembleMetadata.html">ensembleMetadata</a> &raquo;</li>
      <li>ensembleMetadata.closestLatLon</li>
      <li class="wy-breadcrumbs-aside">
              <a href="https://github.com/JonKing93/DASH" class="fa fa-github"> Edit on GitHub</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="ensemblemetadata-closestlatlon">
<h1>ensembleMetadata.closestLatLon<a class="headerlink" href="#ensemblemetadata-closestlatlon" title="Permalink to this heading"></a></h1>
<p>Locate the rows of a variable that are closest to a latitude-longitude coordinate</p>
<hr class="docutils" />
<section id="syntax">
<h2>Syntax<a class="headerlink" href="#syntax" title="Permalink to this heading"></a></h2>
<pre><div class="syntax line-block">
<div class="line"><a class="reference internal" href="#ensemblemetadata-closestlatlon-syntax1"><span class="std std-ref">rows = obj.closestLatLon(variableName, coordinates)</span></a></div>
<div class="line"><a class="reference internal" href="#ensemblemetadata-closestlatlon-syntax1"><span class="std std-ref">rows = obj.closestLatLon(v, coordinates)</span></a></div>
<div class="line"><a class="reference internal" href="#ensemblemetadata-closestlatlon-syntax2"><span class="std std-ref">rows = obj.closestLatLon(…, ‘site’, columns)</span></a></div>
<div class="line"><a class="reference internal" href="#ensemblemetadata-closestlatlon-syntax3"><span class="std std-ref">rows = obj.closestLatLon(…, ‘exclude’, variableRows)</span></a></div>
</div>
</pre></section>
<hr class="docutils" />
<section id="description">
<h2>Description<a class="headerlink" href="#description" title="Permalink to this heading"></a></h2>
<pre><div class="syntax line-block" id="ensemblemetadata-closestlatlon-syntax1">
<div class="line"><a class="reference internal" href="#ensemblemetadata-closestlatlon-outputs-rows"><span class="std std-ref">rows</span></a> = obj.closestLatLon(<a class="reference internal" href="#ensemblemetadata-closestlatlon-inputs-variablename"><span class="std std-ref">variableName</span></a>, <a class="reference internal" href="#ensemblemetadata-closestlatlon-inputs-coordinates"><span class="std std-ref">coordinates</span></a>)</div>
<div class="line"><a class="reference internal" href="#ensemblemetadata-closestlatlon-outputs-rows"><span class="std std-ref">rows</span></a> = obj.closestLatLon(<a class="reference internal" href="#ensemblemetadata-closestlatlon-inputs-v"><span class="std std-ref">v</span></a>, <a class="reference internal" href="#ensemblemetadata-closestlatlon-inputs-coordinates"><span class="std std-ref">coordinates</span></a>)</div>
</div>
</pre><p>Given a variable in the state vector, locates the rows of the variable that are closest to a given latitude-longitude coordinate. Returns the indices of these rows in the overall state vector. If multiple rows are tied as the closest, returns all of the tied rows.</p>
<p>This method proceeds by collecting latitude-longitude coordinates for the variable from the “lat” and “lon” dimensions. The distances between the variable’s coordinates and the input coordinate are then calculated using a haversine function. The haversine function accomodates both -180:180 and 0:360 longitude coordinate systems. Thus, you may use either coordinate system, or even a mix of both.</p>
<p>The method determines latitude-longitude coordinates for the variable using the procedure outlined in the “ensembleMetadata.latlon” method. See the documentation of “ensembleMetadata.latlon” for details. Throws an error if the extracted coordinates are complex valued. Allows NaN and Inf coordinates, so long as at least one extracted coordinate is well-defined. If all extracted coordinates include NaN or Inf values, throws an error.</p>
<pre><div class="syntax line-block" id="ensemblemetadata-closestlatlon-syntax2">
<div class="line"><a class="reference internal" href="#ensemblemetadata-closestlatlon-outputs-rows"><span class="std std-ref">rows</span></a> = obj.closestLatLon(…, ‘site’, <a class="reference internal" href="#ensemblemetadata-closestlatlon-inputs-columns"><span class="std std-ref">columns</span></a>)</div>
</div>
</pre><p>Indicates that the method should extract latitude-longitude coordinates from the columns of the “site” dimension, rather than the “lat” and “lon” dimensions. Here, the “columns” input is a vector with two elements. The first element indicates the column of the “site” metadata that contains latitude coordinates, and the second element is the column with longitude coordinates. See the documentation of “ensembleMetadata.latlon” for additional details on how coordinates are determined from “site” metadata.</p>
<pre><div class="syntax line-block" id="ensemblemetadata-closestlatlon-syntax3">
<div class="line"><a class="reference internal" href="#ensemblemetadata-closestlatlon-outputs-rows"><span class="std std-ref">rows</span></a> = obj.closestLatLon(…, ‘exclude’, <a class="reference internal" href="#ensemblemetadata-closestlatlon-inputs-variablerows"><span class="std std-ref">variableRows</span></a>)</div>
</div>
</pre><p>Indicate rows of the variable that should be excluded from consideration. Note that variableRows are interpreted relative to the variable, rather than the overall state vector. For example, if variableRows=1, the method will exclude the first row of the variable, regardless of its overall position in the state vector. By contrast, the output rows <em>do</em> indicate positions in the overall state vector.</p>
<p>This syntax is often combined with the “ensembleMetadata.variable” command, which returns metadata for individual variables in the state vector. The outputs of that command can be used to search for excluded values within the context of a single variable.</p>
</section>
<hr class="docutils" />
<section id="input-arguments">
<h2>Input Arguments<a class="headerlink" href="#input-arguments" title="Permalink to this heading"></a></h2>
<section class="collapse-examples" id="variablename">
<span id="ensemblemetadata-closestlatlon-inputs-variablename"></span><h3>variableName<a class="headerlink" href="#variablename" title="Permalink to this heading"></a></h3>
<section class="accordion"><input type="checkbox" name="collapse" id="inputs1" checked="checked"><label for="inputs1"><strong>variableName</strong></label><div class="content"><div class="line-block">
<div class="line"><em>string</em> <em>scalar</em></div>
<div class="line">The name of the variable for which to find the closest latitude-longitude points.</div>
</div>
</div></section></section>
<section class="collapse-examples" id="v">
<span id="ensemblemetadata-closestlatlon-inputs-v"></span><h3>v<a class="headerlink" href="#v" title="Permalink to this heading"></a></h3>
<section class="accordion"><input type="checkbox" name="collapse" id="inputs2" checked="checked"><label for="inputs2"><strong>v</strong></label><div class="content"><div class="line-block">
<div class="line"><em>logical</em> <em>vector</em> | <em>scalar</em> <em>linear</em> <em>index</em></div>
<div class="line">The index of the variable in the state vector. If a logical vector, must have one element per variable in the state vector and exactly one true element.</div>
</div>
</div></section></section>
<section class="collapse-examples" id="coordinates">
<span id="ensemblemetadata-closestlatlon-inputs-coordinates"></span><h3>coordinates<a class="headerlink" href="#coordinates" title="Permalink to this heading"></a></h3>
<section class="accordion"><input type="checkbox" name="collapse" id="inputs3" checked="checked"><label for="inputs3"><strong>coordinates</strong></label><div class="content"><div class="line-block">
<div class="line"><em>numeric</em> <em>vector</em> [2]</div>
<div class="line">The coordinate for which to find the closest point (in decimal degrees). A vector with two elements. The first element is latitude and the second is longitude.</div>
</div>
</div></section></section>
<section class="collapse-examples" id="columns">
<span id="ensemblemetadata-closestlatlon-inputs-columns"></span><h3>columns<a class="headerlink" href="#columns" title="Permalink to this heading"></a></h3>
<section class="accordion"><input type="checkbox" name="collapse" id="inputs4" checked="checked"><label for="inputs4"><strong>columns</strong></label><div class="content"><div class="line-block">
<div class="line"><em>vector</em> <em>positive</em> <em>integers</em> [2]</div>
<div class="line">Indicates which columns of the “site” metadata for the variable hold the latitude and longitude coordinates. The first element is the latitude column, and the second element is the longitude column.</div>
</div>
</div></section></section>
<section class="collapse-examples" id="variablerows">
<span id="ensemblemetadata-closestlatlon-inputs-variablerows"></span><h3>variableRows<a class="headerlink" href="#variablerows" title="Permalink to this heading"></a></h3>
<section class="accordion"><input type="checkbox" name="collapse" id="inputs5" checked="checked"><label for="inputs5"><strong>variableRows</strong></label><div class="content"><div class="line-block">
<div class="line"><em>logical</em> <em>vector</em> | <em>vector</em>, <em>linear</em> <em>indices</em></div>
<div class="line">Indicates the rows of the variable that should be excluded from consideration as the closest point. Either a logical vector with one element per row of the variable, or a vector of linear indices.</div>
</div>
</div></section></section>
</section>
<hr class="docutils" />
<section id="output-arguments">
<h2>Output Arguments<a class="headerlink" href="#output-arguments" title="Permalink to this heading"></a></h2>
<section class="collapse-examples" id="rows">
<span id="ensemblemetadata-closestlatlon-outputs-rows"></span><h3>rows<a class="headerlink" href="#rows" title="Permalink to this heading"></a></h3>
<section class="accordion"><input type="checkbox" name="collapse" id="outputs1" checked="checked"><label for="outputs1"><strong>rows</strong></label><div class="content"><div class="line-block">
<div class="line"><em>vector</em>, <em>linear</em> <em>indices</em></div>
<div class="line">The rows of the overall state vector that correspond to the closest latitude-longitude points for the listed variable.</div>
</div>
</div></section></section>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="label.html" class="btn btn-neutral float-left" title="ensembleMetadata.label" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="latlon.html" class="btn btn-neutral float-right" title="ensembleMetadata.latlon" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2022, Jonathan King.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>