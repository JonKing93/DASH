<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>stateVector.metadata &mdash; DASH Docs 4.0.0-beta-3 documentation</title>
      <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/doctools.js"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="stateVector.getMetadata" href="getMetadata.html" />
    <link rel="prev" title="stateVector.sequence" href="sequence.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="../index.html" class="icon icon-home"> DASH Docs
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Reference</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../gridMetadata.html">gridMetadata</a></li>
<li class="toctree-l1"><a class="reference internal" href="../gridfile.html">gridfile</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../stateVector.html">stateVector</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../stateVector.html#description">Description</a></li>
<li class="toctree-l2"><a class="reference internal" href="../stateVector.html#key-methods">Key Methods</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="../stateVector.html#all-user-methods">All User Methods</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="../stateVector.html#create">Create</a></li>
<li class="toctree-l3"><a class="reference internal" href="../stateVector.html#variables">Variables</a></li>
<li class="toctree-l3"><a class="reference internal" href="../stateVector.html#design">Design</a></li>
<li class="toctree-l3 current"><a class="reference internal" href="../stateVector.html#metadata">Metadata</a><ul class="current">
<li class="toctree-l4 current"><a class="current reference internal" href="#">metadata</a><ul>
<li class="toctree-l5"><a class="reference internal" href="#syntax">Syntax</a></li>
<li class="toctree-l5"><a class="reference internal" href="#description">Description</a></li>
<li class="toctree-l5"><a class="reference internal" href="#input-arguments">Input Arguments</a><ul>
<li class="toctree-l6"><a class="reference internal" href="#v">v</a></li>
<li class="toctree-l6"><a class="reference internal" href="#variablenames">variableNames</a></li>
<li class="toctree-l6"><a class="reference internal" href="#dimensions">dimensions</a></li>
<li class="toctree-l6"><a class="reference internal" href="#metadatatype">metadataType</a></li>
<li class="toctree-l6"><a class="reference internal" href="#alternatemetadata">alternateMetadata</a></li>
<li class="toctree-l6"><a class="reference internal" href="#conversionfunction">conversionFunction</a></li>
<li class="toctree-l6"><a class="reference internal" href="#conversionargs">conversionArgs</a></li>
</ul>
</li>
<li class="toctree-l5"><a class="reference internal" href="#output-arguments">Output Arguments</a><ul>
<li class="toctree-l6"><a class="reference internal" href="#obj">obj</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="getMetadata.html">getMetadata</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../stateVector.html#overlap">Overlap</a></li>
<li class="toctree-l3"><a class="reference internal" href="../stateVector.html#coupling">Coupling</a></li>
<li class="toctree-l3"><a class="reference internal" href="../stateVector.html#build">Build</a></li>
<li class="toctree-l3"><a class="reference internal" href="../stateVector.html#size-information">Size Information</a></li>
<li class="toctree-l3"><a class="reference internal" href="../stateVector.html#variable-information">Variable Information</a></li>
<li class="toctree-l3"><a class="reference internal" href="../stateVector.html#general-information">General Information</a></li>
<li class="toctree-l3"><a class="reference internal" href="../stateVector.html#serialization">Serialization</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../stateVector.html#utility-methods">Utility Methods</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../ensemble.html">ensemble</a></li>
<li class="toctree-l1"><a class="reference internal" href="../ensembleMetadata.html">ensembleMetadata</a></li>
<li class="toctree-l1"><a class="reference internal" href="../PSM.html">PSM</a></li>
<li class="toctree-l1"><a class="reference internal" href="../kalmanFilter.html">kalmanFilter</a></li>
<li class="toctree-l1"><a class="reference internal" href="../particleFilter.html">particleFilter</a></li>
<li class="toctree-l1"><a class="reference internal" href="../optimalSensor.html">optimalSensor</a></li>
<li class="toctree-l1"><a class="reference internal" href="../dash.html">dash</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">DASH Docs</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home"></a> &raquo;</li>
          <li><a href="../stateVector.html">stateVector</a> &raquo;</li>
      <li>stateVector.metadata</li>
      <li class="wy-breadcrumbs-aside">
              <a href="https://github.com/JonKing93/DASH" class="fa fa-github"> Edit on GitHub</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="statevector-metadata">
<h1>stateVector.metadata<a class="headerlink" href="#statevector-metadata" title="Permalink to this headline"></a></h1>
<p>Specify how to process metadata along dimensions of state vector variables</p>
<hr class="docutils" />
<section id="syntax">
<h2>Syntax<a class="headerlink" href="#syntax" title="Permalink to this headline"></a></h2>
<pre><div class="syntax line-block">
<div class="line"><a class="reference internal" href="#statevector-metadata-syntax1"><span class="std std-ref">obj = obj.metadata(-1, …)</span></a></div>
<div class="line"><a class="reference internal" href="#statevector-metadata-syntax1"><span class="std std-ref">obj = obj.metadata(v, …)</span></a></div>
<div class="line"><a class="reference internal" href="#statevector-metadata-syntax1"><span class="std std-ref">obj = obj.metadata(variableNames, …)</span></a></div>
<div class="line"><a class="reference internal" href="#statevector-metadata-syntax2"><span class="std std-ref">obj = obj.metadata(variables, dimensions, metadataType, …)</span></a></div>
<div class="line"><a class="reference internal" href="#statevector-metadata-syntax3"><span class="std std-ref">obj = obj.metadata(variables, dimensions, 0|”r”|”raw”)</span></a></div>
<div class="line"><a class="reference internal" href="#statevector-metadata-syntax4"><span class="std std-ref">obj = obj.metadata(variables, dimensions, 1|”s”|”set”, alternateMetadata)</span></a></div>
<div class="line"><a class="reference internal" href="#statevector-metadata-syntax5"><span class="std std-ref">obj = obj.metadata(variables, dimensions, 2|”c”|”convert”, conversionFunction)</span></a></div>
<div class="line"><a class="reference internal" href="#statevector-metadata-syntax5"><span class="std std-ref">obj = obj.metadata(variables, dimensions, 2|”c”|”convert”, conversionFunction, conversionArgs)</span></a></div>
</div>
</pre></section>
<hr class="docutils" />
<section id="description">
<h2>Description<a class="headerlink" href="#description" title="Permalink to this headline"></a></h2>
<pre><div class="syntax line-block" id="statevector-metadata-syntax1">
<div class="line"><a class="reference internal" href="#statevector-metadata-outputs-obj"><span class="std std-ref">obj</span></a> = obj.metadata(-1, …)</div>
<div class="line"><a class="reference internal" href="#statevector-metadata-outputs-obj"><span class="std std-ref">obj</span></a> = obj.metadata(<a class="reference internal" href="#statevector-metadata-inputs-v"><span class="std std-ref">v</span></a>, …)</div>
<div class="line"><a class="reference internal" href="#statevector-metadata-outputs-obj"><span class="std std-ref">obj</span></a> = obj.metadata(<a class="reference internal" href="#statevector-metadata-inputs-variablenames"><span class="std std-ref">variableNames</span></a>, …)</div>
</div>
</pre><p>Specifies how to process metadata for the listed variables. If the first input is -1, applies the settings to all variables currently in the state vector.</p>
<pre><div class="syntax line-block" id="statevector-metadata-syntax2">
<div class="line"><a class="reference internal" href="#statevector-metadata-outputs-obj"><span class="std std-ref">obj</span></a> = obj.metadata(variables, <a class="reference internal" href="#statevector-metadata-inputs-dimensions"><span class="std std-ref">dimensions</span></a>, <a class="reference internal" href="#statevector-metadata-inputs-metadatatype"><span class="std std-ref">metadataType</span></a>, …)</div>
</div>
</pre><p>Specify how to process metadata for the indicated dimensions of the listed variables. This metadata is used when building ensemble members of a state vector ensemble. The metadata is used to ensure that coupled variables within an ensemble member all correspond to the same point. This check proceeds by searching for matching metadata along the ensemble dimensions of coupled variables, and pinning the variables at matching metadata points. In the default case, this metadata is extracted from the gridfile metadata for each ensemble dimension.</p>
<p>However, different variables can use different metadata formats within their gridfiles, which can prevent the metadata check from finding matching metadata. This method allows you to specify alternate metadata, or a metadata conversion method, to facilitate the comparison of metadata in different formats.</p>
<p>This method is perhaps most commonly used to combine variables on different time steps. If this describes your scenario, check out the HOW-TO page on combining annual and seasonal data, which is located in the documentation.</p>
<pre><div class="syntax line-block" id="statevector-metadata-syntax3">
<div class="line"><a class="reference internal" href="#statevector-metadata-outputs-obj"><span class="std std-ref">obj</span></a> = obj.metadata(variables, <a class="reference internal" href="#statevector-metadata-inputs-dimensions"><span class="std std-ref">dimensions</span></a>, 0|”r”|”raw”)</div>
</div>
</pre><p>Use raw gridfile metadata for the indicated dimensions of the variables. Metadata for each dimension is extracted from the gridfile metadata for the dimension. This is the default behavior.</p>
<pre><div class="syntax line-block" id="statevector-metadata-syntax4">
<div class="line"><a class="reference internal" href="#statevector-metadata-outputs-obj"><span class="std std-ref">obj</span></a> = obj.metadata(variables, <a class="reference internal" href="#statevector-metadata-inputs-dimensions"><span class="std std-ref">dimensions</span></a>, 1|”s”|”set”, <a class="reference internal" href="#statevector-metadata-inputs-alternatemetadata"><span class="std std-ref">alternateMetadata</span></a>)</div>
</div>
</pre><p>Specify an alternate set of metadata to use for a dimension, which will be used instead of the gridfile metadata. The metadata must be a matrix, and the number of rows must match the number of state/reference indices for the dimension.</p>
<pre><div class="syntax line-block" id="statevector-metadata-syntax5">
<div class="line"><a class="reference internal" href="#statevector-metadata-outputs-obj"><span class="std std-ref">obj</span></a> = obj.metadata(variables, <a class="reference internal" href="#statevector-metadata-inputs-dimensions"><span class="std std-ref">dimensions</span></a>, 2|”c”|”convert”, <a class="reference internal" href="#statevector-metadata-inputs-conversionfunction"><span class="std std-ref">conversionFunction</span></a>)</div>
<div class="line"><a class="reference internal" href="#statevector-metadata-outputs-obj"><span class="std std-ref">obj</span></a> = obj.metadata(variables, <a class="reference internal" href="#statevector-metadata-inputs-dimensions"><span class="std std-ref">dimensions</span></a>, 2|”c”|”convert”, <a class="reference internal" href="#statevector-metadata-inputs-conversionfunction"><span class="std std-ref">conversionFunction</span></a>, <a class="reference internal" href="#statevector-metadata-inputs-conversionargs"><span class="std std-ref">conversionArgs</span></a>)</div>
</div>
</pre><p>Specify a function that can be used to convert gridfile metadata to a different format. The function must accept the metadata being converted as its first argument. You may use any built-in or user-defined function, which should be input as a function handle.</p>
<p>You may optionally provide additional arguments to be passed to the conversion function. These arguments should be organized in a cell vector. These input arguments will be passed to the conversion function in order, after the metadata argument. If you provide N optional arguments, they will be passed to the conversion function as input arguments 2 to N+1, as per the following:</p>
<p>convertedMetadata = conversionFunction(gridfile metadata, args{1}, args{2}, … arg{N})</p>
</section>
<hr class="docutils" />
<section id="input-arguments">
<h2>Input Arguments<a class="headerlink" href="#input-arguments" title="Permalink to this headline"></a></h2>
<section class="collapse-examples" id="v">
<span id="statevector-metadata-inputs-v"></span><h3>v<a class="headerlink" href="#v" title="Permalink to this headline"></a></h3>
<section class="accordion"><input type="checkbox" name="collapse" id="inputs1" checked="checked"><label for="inputs1"><strong>v</strong></label><div class="content"><div class="line-block">
<div class="line"><em>logical</em> <em>vector</em> | <em>linear</em> <em>indices</em> | -1</div>
<div class="line">The indices of variables in the state vector that should have metadata updated. Either a logical vector with one element per state vector variable, or a vector of linear indices. If linear indices, may not contain repeated indices. If -1, selects all variables in the state vector.</div>
</div>
</div></section></section>
<section class="collapse-examples" id="variablenames">
<span id="statevector-metadata-inputs-variablenames"></span><h3>variableNames<a class="headerlink" href="#variablenames" title="Permalink to this headline"></a></h3>
<section class="accordion"><input type="checkbox" name="collapse" id="inputs2" checked="checked"><label for="inputs2"><strong>variableNames</strong></label><div class="content"><div class="line-block">
<div class="line"><em>string</em> <em>vector</em></div>
<div class="line">The names of variables in the state vector that should have metadata updated. May not contain repeated variable names.</div>
</div>
</div></section></section>
<section class="collapse-examples" id="dimensions">
<span id="statevector-metadata-inputs-dimensions"></span><h3>dimensions<a class="headerlink" href="#dimensions" title="Permalink to this headline"></a></h3>
<section class="accordion"><input type="checkbox" name="collapse" id="inputs3" checked="checked"><label for="inputs3"><strong>dimensions</strong></label><div class="content"><div class="line-block">
<div class="line"><em>string</em> <em>vector</em> [<em>nDimensions</em>]</div>
<div class="line">The names of the ensemble dimensions that should have their metadata updated. Each dimension must be an ensemble dimension in all listed variables. Cannot have repeated dimension names.</div>
</div>
</div></section></section>
<section class="collapse-examples" id="metadatatype">
<span id="statevector-metadata-inputs-metadatatype"></span><h3>metadataType<a class="headerlink" href="#metadatatype" title="Permalink to this headline"></a></h3>
<section class="accordion"><input type="checkbox" name="collapse" id="inputs4" checked="checked"><label for="inputs4"><strong>metadataType</strong></label><div class="content"><div class="line-block">
<div class="line"><em>scalar</em> <em>integer</em> | <em>scalar</em> <em>string</em></div>
<div class="line">Specifies how the metadata for the dimensions should be processed.</div>
</div>
<p>[0|”r”|”raw” (default)]: Use gridfile metadata</p>
<p>[1|”s”|”set”]: Use an alternate set of user-specified metadata</p>
<p>[2|”c”|”convert”]: Apply a conversion function to gridfile metadata</p>
</div></section></section>
<section class="collapse-examples" id="alternatemetadata">
<span id="statevector-metadata-inputs-alternatemetadata"></span><h3>alternateMetadata<a class="headerlink" href="#alternatemetadata" title="Permalink to this headline"></a></h3>
<section class="accordion"><input type="checkbox" name="collapse" id="inputs5" checked="checked"><label for="inputs5"><strong>alternateMetadata</strong></label><div class="content"><div class="line-block">
<div class="line"><em>cell</em> <em>vector</em> [<em>nDimensions</em>]{<em>matadata</em> <em>matrix</em> [<em>nIndices</em> <em>x</em> ?]}</div>
<div class="line">Alternate metadata to use for the dimensions. Each element should hold a metadata matrix, and the number of metadata rows for each matrix should match the length of the corresponding gridfile dimension. Each metadata matrix should have unique rows.</div>
</div>
<p>Metadata matrices may have a numeric, logical, char, string, cellstring, or datetime data type. They cannot contain NaN or NaT elements. Cellstring metadata will be converted to string.</p>
<p>If only a single dimension is indicated, you may provide the alternate metadata directly, instead of as a scalar cell. However, the scalar cell syntax is also permitted.</p>
</div></section></section>
<section class="collapse-examples" id="conversionfunction">
<span id="statevector-metadata-inputs-conversionfunction"></span><h3>conversionFunction<a class="headerlink" href="#conversionfunction" title="Permalink to this headline"></a></h3>
<section class="accordion"><input type="checkbox" name="collapse" id="inputs6" checked="checked"><label for="inputs6"><strong>conversionFunction</strong></label><div class="content"><div class="line-block">
<div class="line"><em>cell</em> <em>vector</em> [<em>nDimensions</em>], {<em>scalar</em> <em>function*_*handle</em>}</div>
<div class="line">The conversion functions to use for each of the indicated dimensions. A cell vector with one element per listed dimension. Each element holds a function handle for the conversion function to use for the dimension. If only a single dimension is listed, you may also provide the function handle directly, instead of in a scalar cell.</div>
</div>
</div></section></section>
<section class="collapse-examples" id="conversionargs">
<span id="statevector-metadata-inputs-conversionargs"></span><h3>conversionArgs<a class="headerlink" href="#conversionargs" title="Permalink to this headline"></a></h3>
<section class="accordion"><input type="checkbox" name="collapse" id="inputs7" checked="checked"><label for="inputs7"><strong>conversionArgs</strong></label><div class="content"><div class="line-block">
<div class="line"><em>cell</em> <em>vector</em> [<em>nDimensions</em>, {<em>cell</em> <em>vector</em> {<em>function</em> <em>args</em>}}</div>
<div class="line">Additional arguments to each conversion function. A cell vector with one element per conversion function handle. Each element holds the additional arguments to the conversion function. If a conversion function has no additional arguments, the corresponding element of conversionArgs should hold an empty cell. If only a single dimension is listed, you may provide the additional arguments for the conversion function directly as a cell vector, instead of within a scalar cell.</div>
</div>
</div></section></section>
</section>
<hr class="docutils" />
<section id="output-arguments">
<h2>Output Arguments<a class="headerlink" href="#output-arguments" title="Permalink to this headline"></a></h2>
<section class="collapse-examples" id="obj">
<span id="statevector-metadata-outputs-obj"></span><h3>obj<a class="headerlink" href="#obj" title="Permalink to this headline"></a></h3>
<section class="accordion"><input type="checkbox" name="collapse" id="outputs1" checked="checked"><label for="outputs1"><strong>obj</strong></label><div class="content"><div class="line-block">
<div class="line"><em>scalar</em> <em>stateVector</em> <em>object</em></div>
<div class="line">The state vector with updated metadata specifications.</div>
</div>
</div></section></section>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="sequence.html" class="btn btn-neutral float-left" title="stateVector.sequence" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="getMetadata.html" class="btn btn-neutral float-right" title="stateVector.getMetadata" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2022, Jonathan King.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>